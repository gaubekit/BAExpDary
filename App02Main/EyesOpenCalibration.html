{% extends "global/Page.html" %}

{% block content %}

  Please click the "Start Focus"-button and look at the cross. The cross will displayed for 20 seconds. You can proceed afterwards.<br>
  <b>Please keep your eyes open and avoid any movement (bodey, eyes, etc.) during this time.<b>

  <br><br>

  <!-- Start-Button -->
  <button id="startBtn" type="button">Start Focus</button>

  <!-- Kreuzbild (initial versteckt) -->
  <div id="imageContainer" style="display: none; text-align: center; margin-top: 50px;">
    <img src="{{ static 'kreuz_fokus.jpg' }}" alt="Fokuskreuz" style="width: 200px;">
  </div>

  <!-- Verstecktes Feld fÃ¼r Zeitstempel -->
  <input type="hidden" name="eeg_timestamp" id="eegTimestamp">

  <!-- Weiter-Button (initial deaktiviert und unsichtbar) -->
  <br><br>
  <button type="submit" id="nextBtn" style="display: none;">Next</button>

{% endblock %}


{% block scripts %}
<script>
  document.getElementById('startBtn').addEventListener('click', function () {
    // 1. Start-Button ausblenden
    this.style.display = 'none';

    // 2. Zeitstempel erfassen
    const timestamp = new Date().toISOString();
    document.getElementById('eegTimestamp').value = timestamp;

    // 3. Kreuz anzeigen
    const image = document.getElementById('imageContainer');
    image.style.display = 'block';

    // 4. Nach 20 Sekunden: Kreuz ausblenden + Weiter-Button einblenden
    setTimeout(function () {
      image.style.display = 'none';
      document.getElementById('nextBtn').style.display = 'inline-block';
    }, 20000);
  });
</script>
{% endblock %}
